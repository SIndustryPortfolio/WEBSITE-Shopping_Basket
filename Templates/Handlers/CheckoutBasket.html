<body>
    <div class="Checkout" id="UserBasketContainer" style="height: calc(100% - 50px); position: fixed; right: 0; z-index: 3;">
        <button id="CheckoutToggle" class="btn btn-secondary" style="height: 5vh; aspect-ratio: 1 / 1; transform: translate(-100%, 50%); z-index: 3; padding: 0;">></button>

        <div id="CheckoutContent" class="CheckoutContent" style="position: absolute; top: 0; display: block; background-color: white; float: right; padding-top: 16px; display: flex; flex-direction: column;">
            <h2 class="text-center" style="flex-shrink: 0; position: sticky;">ðŸ§º Your basket</h2>
            <hr>
            
            <section class="TableWrapper" style="padding-bottom: 16px;">
                {% if Basket['Items']|length > 0 %}
                    <table id="UserBasketTable" class="table table-striped" style="width: 90%; margin: auto; position: relative; z-index: 0;">
                        <thead>
                            <tr>
                                <th>Product Name</th> <!-- All names aligned left -->
                                <th class="text-center">Quantity</th>
                                <th class="text-center">Price</th>
                            </tr>
                        </thead>
                        <tbody style="overflow-y: scroll;">

                        </tbody>
                    </table>
                {% else %}
                    <p class="text-center"><i>You have no items in your basket!</i></p>
                {% endif %}
            </section>
            

            <section class="text-center" style="width: 100%; display: block; background-color: white; padding: 24px; box-shadow: 0px -16px 10px rgba(0, 0, 0, 0.08); position: relative; z-index: 1;">
                <h2 class="text-center" style="position: sticky;">ðŸ’° Costs</h2>
                <hr>
                <div style="width: 70%; margin: auto;">
                    <div class="row">
                        <div class="col">
                            <h4 class="">Subtotal:</h4>
                        </div>

                        <div class="col text-center">
                            <h4 class="PriceTag text-secondary" style="margin: auto;">{{Utilities.FormatMoney(Costs["SubTotal"])}}</h4>
                        </div>
                    </div>
                    <div class="row" style="">
                        <div class="col">
                            <h4 class="">Discount:</h4>
                        </div>

                        <div class="col text-center">
                            <h4 class="PriceTag {% if Costs['PriceReduction'] > 0 %} text-success {% else %} text-secondary {% endif %}" style="margin: auto;">-{{Utilities.FormatMoney(Costs["PriceReduction"])}}</h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <h4 class="">Total:</h4>
                        </div>

                        <div class="col text-center">
                            <h4 class="PriceTag" style="margin: auto;">{{Utilities.FormatMoney(Costs["Total"])}}</h4>
                        </div>
                    </div>
                </div>

                <div>
                    <form id="ResetBasketForm" class="text-center" action="ResetBasket" method="post" style="padding: 10px; display: inline-block;">
                        <input type="submit" class="btn btn-danger btn-lg" value="Reset"/>
                    </form>
                
                    <form id="UpdateBasketForm" class="text-center" action="UpdateBasket" method="post" style="padding: 10px; display: inline-block;">
                        <input type="submit" class="btn btn-secondary btn-lg" value="Update"/>
                    </form>
                </div>
            </section>
        </div>
    </div>
</body>